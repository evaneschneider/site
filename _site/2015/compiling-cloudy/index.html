<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Evan's research blog - Compiling cloudy</title>
  <link rel="shortcut icon" href="http://evaneschneider.github.io/site/assets/images/favicon.ico">
  <link rel="stylesheet" href="http://evaneschneider.github.io/site/assets/css/style.css">
  <link rel="alternate" type="application/rss+xml" title="My Blog" href="http://evaneschneider.github.io/site/rss.xml">
  <link rel="stylesheet" href="http://evaneschneider.github.io/site/assets/css/highlight.css">
</head>
<body>

  <nav class="main-nav">
    
        <a href="http://evaneschneider.github.io/site/"> <span class="arrow">←</span> Home </a>
    

    
        
            <a href="http://evaneschneider.github.io/site/about">About </a>
        
    
    <a class="cta" href="http://evaneschneider.github.io/site/feed.xml">Subscribe</a>
</nav>

  

  <section id="wrapper" class="">
    <article class="post">
    <header>
        <h1>Compiling cloudy</h1>
        <h2 class="headline">December 8, 2015</h2>
    </header>
    <section id="post-body">
        <p>For future reference…</p>

<p>As documented on the wiki (http://www.nublado.org/wiki/CompilingCloudyOSX) 
Cloudy does not work with current versions of Mac’s Xcode c++ compiler. The issue is the 
way it handles floating point exceptions. I currently 
have OS 10.11 (El Capitan) and version 7.1.1 of Xcode.</p>

<p>The workaround suggested on the wiki did work for me. I had to install gcc myself, 
which I did using Homebrew. The first version I tried (4-8) didn’t work, but when I built the most 
recent version from source, it fixed things.</p>

<p>brew reinstall –build-from-source gcc</p>

<p>Make sure that this is the version of gcc that gets called when you compile (do “which gcc”), 
and create the appropriate aliases in /usr/local/bin (and update your path) if necessary. 
Homebrew installs everything to /usr/local/.</p>

<p>Once Cloudy is compiled (“make” in the source directory), we can run the programs that are included 
with Cloudy. The easiest way to do this is to run the script “runall.pl” included in the 
programs directory. This script compiles and runs each of the programs listed in the 
“programs.dat” file.</p>

<p>To compile a single sample program (e.g. hazy_coolingcurve) do:</p>

<p>g++ -ansi -O3 -ftrapping-math -fno-math-errno  -Wall -W -g hazy_coolingcurve.cpp -o hazy_coolingcurve.exe -I../../../source -L../../../source/ -lcloudy</p>

<p>The following plot is produced with the default settings from the 
hazy_coolingcurve program (solar abundance, <script type="math/tex">n_h = 1 \, \mathrm{cm}^{-3}</script>).
<img src="http://localhost:4000assets/images/hazy_coolingcurve.png" /></p>

    </section>
</article>
<footer id="post-meta" class="clearfix">
    <a href="http://twitter.com/navelation">
        <img class="avatar" src="http://evaneschneider.github.io/site/assets/images/avatar.png">
        <div>
            <span class="dark">Evan Schneider</span>
            <span>Blogging about stuff</span>
        </div>
    </a>

    <section id="sharing">
        <a class="twitter" href="https://twitter.com/intent/tweet?text=/2015/compiling-cloudy/ - Compiling cloudy by @navelation"><span class="icon-twitter"> Tweet</span></a>

<a class="facebook" href="#" onclick="
    window.open(
      'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
      'facebook-share-dialog',
      'width=626,height=436');
    return false;"><span class="icon-facebook-rect"> Share</span>
</a>
    </section>
</footer>

<!-- Disqus comments -->


<!-- Archive post list -->




  </section>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="http://evaneschneider.github.io/site/assets/js/main.js"></script>
  <script src="http://evaneschneider.github.io/site/assets/js/highlight.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-XXXXXXXX-X', 'auto');
    ga('send', 'pageview');
  </script>
  <!-- Include mathjax support -->
  <script type="text/javascript"
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>

</body>
</html>



